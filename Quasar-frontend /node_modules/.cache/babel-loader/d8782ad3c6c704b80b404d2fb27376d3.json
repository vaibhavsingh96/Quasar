{"ast":null,"code":"var _jsxFileName = \"/Users/vv/Desktop/Quasar/Quasar-frontend /src/components/signuppage.js\";\nimport React, { Component } from 'react';\n/* CSS */\n\nimport '.././css/signuppage.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n/* React-Bootstrap Components */\n\nimport { Navbar, Nav, Image, Alert } from 'react-bootstrap';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport { Button } from 'react-bootstrap';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport UserService from '.././services/UserService.js';\nimport { Base64 } from 'js-base64';\nconst SignupSchema = Yup.object().shape({\n  username: Yup.string().required('Username is Required'),\n  email: Yup.string().email('Invalid email').required('email is Required'),\n  password: Yup.string().min(3, 'Password at lest 3 length').required('Password is Required'),\n  location: Yup.string().required('Location is Required')\n});\n\nclass signuppage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.AlertButtonClicked_success = event => {\n      this.setState({\n        submitted_success: false\n      });\n      this.props.history.push(\"/join/signin\");\n    };\n\n    this.AlertButtonClicked_fail = event => {\n      this.setState({\n        submitted_fail: false\n      });\n      this.props.history.push(\"/join/signup\");\n    };\n\n    this.handleSubmit = async event => {\n      const isValid = await SignupSchema.validate(event);\n\n      if (!isValid) {\n        return;\n      }\n\n      let encryptedPassword = Base64.encode(this.state.password);\n      let user = {\n        username: this.state.username,\n        email: this.state.email,\n        password: encryptedPassword,\n        location: this.state.location\n      };\n      var formData = new FormData();\n      formData.append(\"user\", JSON.stringify(user));\n      formData.append(\"file\", this.state.file);\n      UserService.createUser(formData).then((res, fail) => {\n        console.log(res.status);\n\n        if (res.status === 200) {\n          this.setState({\n            submitted_success: true,\n            message: res.data.message\n          });\n        }\n      }).catch(error => {\n        if (error.response) {\n          this.setState({\n            submitted_fail: true,\n            message: \"username has already existed!\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      location: \"\",\n      submitted_success: false,\n      submitted_fail: false,\n      message: \"\",\n      image: \"https://images.hdrsoft.com/images/lighthouse/thumbs/hdr-vibrant.jpg\",\n      file: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.AlertButtonClicked_success = this.AlertButtonClicked_success.bind(this);\n    this.AlertButtonClicked_fail = this.AlertButtonClicked_fail.bind(this);\n    this.setImage = this.setImage.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  setImage(event) {\n    this.setState({\n      image: URL.createObjectURL(event.target.files[0]),\n      file: event.target.files[0]\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      id: \"navbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      fixed: \"top\",\n      expand: \"lg\",\n      bg: \"dark\",\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n      className: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, \"Quasar\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n      className: \"justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(Nav.Link, {\n      href: \"/join/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, \"Sign in\"))))), /*#__PURE__*/React.createElement(Alert, {\n      className: \"alert\",\n      show: this.state.submitted_success,\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.AlertButtonClicked_success,\n      variant: \"outline-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(Alert, {\n      className: \"alert\",\n      show: this.state.submitted_fail,\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.AlertButtonClicked_fail,\n      variant: \"outline-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(Formik, {\n      initialValues: {\n        username: '',\n        email: '',\n        password: '',\n        location: ''\n      },\n      validationSchema: SignupSchema,\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, ({\n      handleSubmit,\n      handleChange,\n      handleBlur,\n      values,\n      touched,\n      isValid,\n      errors\n    }) => /*#__PURE__*/React.createElement(Form, {\n      noValidate: true,\n      onSubmit: handleSubmit,\n      className: \"signup-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 19\n      }\n    }, \"Choose a photo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.setImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Image, {\n      className: \"profile-img\",\n      src: this.state.image,\n      roundedCircle: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"left\",\n      controlId: \"validationFormik01\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Username\",\n      \"aria-describedby\": \"inputGroupPrepend\",\n      name: \"username\",\n      value: values.username,\n      onChange: handleChange,\n      onInput: this.handleChange,\n      isInvalid: touched.username && errors.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, errors.username)), /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"left\",\n      controlId: \"validationFormik02\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Email\",\n      \"aria-describedby\": \"inputGroupPrepend\",\n      name: \"email\",\n      value: values.email,\n      onChange: handleChange,\n      onInput: this.handleChange,\n      isInvalid: touched.email && errors.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, errors.message)), /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"left\",\n      controlId: \"validationFormik03\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: values.password,\n      onChange: handleChange,\n      onInput: this.handleChange,\n      isInvalid: touched.password && errors.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, errors.password)), /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"left\",\n      controlId: \"validationFormik04\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 21\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Location\",\n      name: \"location\",\n      value: values.location,\n      onChange: handleChange,\n      onInput: this.handleChange,\n      isInvalid: touched.location && errors.location,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }, errors.location)), /*#__PURE__*/React.createElement(Button, {\n      className: \"form-btn\",\n      variant: \"dark\",\n      type: \"submit\",\n      size: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 19\n      }\n    }, \"Sign up\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n      id: \"footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, \"\\xA9 Copyright 2020 WiTech Lab\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, \"Carnegie Mellon University\"))));\n  }\n\n}\n\nexport default signuppage;","map":{"version":3,"sources":["/Users/vv/Desktop/Quasar/Quasar-frontend /src/components/signuppage.js"],"names":["React","Component","Navbar","Nav","Image","Alert","Form","Row","Col","Button","Formik","Yup","UserService","Base64","SignupSchema","object","shape","username","string","required","email","password","min","location","signuppage","constructor","props","AlertButtonClicked_success","event","setState","submitted_success","history","push","AlertButtonClicked_fail","submitted_fail","handleSubmit","isValid","validate","encryptedPassword","encode","state","user","formData","FormData","append","JSON","stringify","file","createUser","then","res","fail","console","log","status","message","data","catch","error","response","image","bind","handleChange","setImage","e","target","name","value","URL","createObjectURL","files","render","handleBlur","values","touched","errors"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n/* CSS */\nimport '.././css/signuppage.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n/* React-Bootstrap Components */\nimport { Navbar, Nav, Image, Alert } from 'react-bootstrap';\nimport { Form, Row, Col} from 'react-bootstrap';\nimport { Button } from 'react-bootstrap'\n\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\n\nimport UserService from '.././services/UserService.js';\n\nimport { Base64 } from 'js-base64';\n\nconst SignupSchema = Yup.object().shape({\n  username: Yup.string().required('Username is Required'),\n  email: Yup.string().email('Invalid email').required('email is Required'),\n  password: Yup.string().min(3, 'Password at lest 3 length').required('Password is Required'),\n  location: Yup.string().required('Location is Required'),\n});\n\nclass signuppage extends Component{\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        location: \"\",\n        submitted_success: false,\n        submitted_fail: false,\n        message: \"\",\n        image: \"https://images.hdrsoft.com/images/lighthouse/thumbs/hdr-vibrant.jpg\",\n        file: null\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.AlertButtonClicked_success = this.AlertButtonClicked_success.bind(this);\n    this.AlertButtonClicked_fail = this.AlertButtonClicked_fail.bind(this);\n    this.setImage = this.setImage.bind(this);\n  }\n\n  AlertButtonClicked_success = (event) => {\n    this.setState({\n      submitted_success: false\n    });\n    this.props.history.push(\"/join/signin\");\n  }\n\n\n  AlertButtonClicked_fail = (event) => {\n    this.setState({\n      submitted_fail: false\n    });\n    this.props.history.push(\"/join/signup\");\n  }\n\n  handleSubmit = async (event) => {\n     const isValid = await SignupSchema.validate(event);\n     if (!isValid) {\n       return;\n     }\n     let encryptedPassword = Base64.encode(this.state.password);\n     let user = {\n       username: this.state.username,\n       email: this.state.email,\n       password: encryptedPassword,\n       location: this.state.location\n     }\n     var formData = new FormData();\n     formData.append(\"user\", JSON.stringify(user));\n     formData.append(\"file\", this.state.file);\n     UserService.createUser(formData).then((res, fail) => {\n       console.log(res.status);\n       if(res.status === 200) {\n         this.setState({\n           submitted_success: true,\n           message: res.data.message\n         });\n       }\n     }).catch((error) => {\n       if(error.response) {\n         this.setState({\n           submitted_fail: true,\n           message: \"username has already existed!\"\n         });\n        }\n     });\n  }\n\n  handleChange(e) {\n    this.setState({ [e.target.name] : e.target.value });\n  }\n\n  setImage(event) {\n    this.setState({\n      image: URL.createObjectURL(event.target.files[0]),\n      file: event.target.files[0]\n    })\n  }\n\n  render(){\n    return (\n      <div>\n        <section id='navbar'>\n          <Navbar fixed=\"top\" expand=\"lg\" bg=\"dark\" variant=\"dark\">\n            <Navbar.Brand className=\"navbar-brand\">Quasar</Navbar.Brand>\n            <Navbar.Toggle />\n            <Navbar.Collapse className=\"justify-content-end\">\n              <Nav>\n                <Nav.Link href=\"/\">Home</Nav.Link>\n                <Nav.Link href=\"/join/signin\">Sign in</Nav.Link>\n              </Nav>\n            </Navbar.Collapse>\n          </Navbar>\n        </section>\n\n        <Alert className=\"alert\" show={this.state.submitted_success} variant=\"success\">\n          <Alert.Heading>{this.state.message}</Alert.Heading>\n          <hr />\n          <div className=\"d-flex justify-content-end\">\n            <Button onClick={this.AlertButtonClicked_success} variant=\"outline-success\">\n              Yes\n            </Button>\n          </div>\n        </Alert>\n\n        <Alert className=\"alert\" show={this.state.submitted_fail} variant=\"danger\">\n          <Alert.Heading>{this.state.message}</Alert.Heading>\n          <hr />\n          <div className=\"d-flex justify-content-end\">\n            <Button onClick={this.AlertButtonClicked_fail} variant=\"outline-danger\">\n              Yes\n            </Button>\n          </div>\n        </Alert>\n\n        <Formik\n          initialValues={{\n            username: '',\n            email: '',\n            password: '',\n            location: ''\n          }}\n          validationSchema={SignupSchema}\n          onSubmit={this.handleSubmit}\n        >\n        {({\n            handleSubmit,\n            handleChange,\n            handleBlur,\n            values,\n            touched,\n            isValid,\n            errors,\n          }) => (\n            <Form\n              noValidate\n              onSubmit={handleSubmit}\n              className=\"signup-form\"\n            >\n              <Row>\n\n                <Col lg={6} className=\"center\">\n                  <h5>Choose a photo</h5>\n                  <input type=\"file\" onChange={this.setImage}/>\n                  <Image className=\"profile-img\" src={this.state.image} roundedCircle />\n                </Col>\n\n                <Col lg={6}>\n                  <Form.Group className=\"left\" controlId=\"validationFormik01\">\n                    <Form.Label>Username</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      aria-describedby=\"inputGroupPrepend\"\n                      name=\"username\"\n                      value={values.username}\n                      onChange={handleChange}\n                      onInput={this.handleChange}\n                      isInvalid={touched.username && errors.username}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {errors.username}\n                    </Form.Control.Feedback>\n                  </Form.Group>\n\n                  <Form.Group className=\"left\" controlId=\"validationFormik02\">\n                    <Form.Label>Email</Form.Label>\n                    <Form.Control\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      aria-describedby=\"inputGroupPrepend\"\n                      name=\"email\"\n                      value={values.email}\n                      onChange={handleChange}\n                      onInput={this.handleChange}\n                      isInvalid={touched.email && errors.email}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {errors.message}\n                    </Form.Control.Feedback>\n                  </Form.Group>\n\n                  <Form.Group className=\"left\"  controlId=\"validationFormik03\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      name=\"password\"\n                      value={values.password}\n                      onChange={handleChange}\n                      onInput={this.handleChange}\n                      isInvalid={touched.password && errors.password}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {errors.password}\n                    </Form.Control.Feedback>\n                  </Form.Group>\n\n                  <Form.Group className=\"left\" controlId=\"validationFormik04\">\n                    <Form.Label>Location</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Location\"\n                      name=\"location\"\n                      value={values.location}\n                      onChange={handleChange}\n                      onInput={this.handleChange}\n                      isInvalid={touched.location && errors.location}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {errors.location}\n                    </Form.Control.Feedback>\n                  </Form.Group>\n\n                  <Button className=\"form-btn\" variant=\"dark\" type=\"submit\" size=\"lg\">\n                    Sign up\n                  </Button>\n                </Col>\n              </Row>\n            </Form>\n          )}\n        </Formik>\n\n        <footer id=\"footer\">\n          <div className=\"container-fluid\">\n            <p>© Copyright 2020 WiTech Lab</p>\n            <p>Carnegie Mellon University</p>\n          </div>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default signuppage;\n"]},"metadata":{},"sourceType":"module"}